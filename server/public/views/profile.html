<div ng-cloak="" class="carddemoBasicUsage" ng-app="stementor">
  <md-content flex-offset="15" class="md-padding" layout-xs="column" layout="row">
    <div flex="80" layout="column">
      <md-tabs md-dynamic-height="" md-border-bottom="">
        <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

        <!--–––––––––––––––––––––––– Edit Switch and Buttons ––––––––––––––––––––––––-->
        <md-tab md-on-select="profile.selectProfileTab()" label="Profile">
          <div layout-gt-xs="row" layout-padding>
            <md-switch ng-show="profile.userStatus.isLoggedIn && profile.userStatus.userType == 'mentor' && profile.userStatus.userId == profile.mentor.info.id || profile.userStatus.isAdmin == true" ng-model="showEdits">
              Edit Your Profile
            </md-switch>

            <!-- Save Changes button for Profile edits -->
            <md-button class="md-raised" ng-click="profile.editBio()" ng-show="showEdits && profile.profileTabSelected == true && profile.userStatus.isLoggedIn && profile.userStatus.userType == 'mentor' && profile.userStatus.userId == profile.mentor.info.id || profile.userStatus.isAdmin == true">
              Save Changes
            </md-button>
          </div>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--––––––––––––––––––––––––––– Header Info Card –––––––––––––-––––––––––––––-->
          <md-card>
            <md-card-title>

              <md-card-title-text>
                <span class="md-headline">
                  {{profile.mentor.info.first_name}} {{profile.mentor.info.last_name}}
                </span>
                <span class="md-headline">
                  <em>{{profile.mentor.info.stem_primary}}</em>
                </span>
                <span class="md-subhead">
                  {{profile.mentor.info.job_title}}
                </span>
                <span class="md-subhead" ng-if="profile.mentor.info.blurb">
                  "{{profile.mentor.info.blurb}}"
                </span>
              </md-card-title-text>

              <md-card-title-media>
                <div class="md-media-lg card-media">
                  <img src="{{profile.mentor.info.avatar}}" style="width: 150px; height: 150px; display: block; margin: 10px auto 0 auto;" />
                </div>
              </md-card-title-media>

            </md-card-title>

            <md-card-actions layout="row" layout-align="end center" layout-padding>
              <md-button class="md-raised" ng-click="profile.createMessage($event)">
                Ask me a question!
              </md-button>
            </md-card-actions>

          </md-card>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--––––––––––––––––––––––––– Header Info Edit Card –––––––––––––––––––––––––-->
          <md-card ng-if="showEdits">
            <md-card-content>

              <div layout-gt-sm="row">
                <md-card-title>
                  <md-card-title-text>
                    <span class="md-headline">
                      Edit Your Header Info
                    </span>
                  </md-card-title-text>
                </md-card-title>
              </div>

              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="33">
                  <textarea ng-model="profile.userData.first_name" rows="1" placeholder="First Name"></textarea>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="33">
                  <textarea ng-model="profile.userData.last_name" rows="1" placeholder="Last Name"></textarea>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="33">
                  <label>Primary STEM Field</label>
                  <md-select name="stem_primary" ng-model="search.newSearch.stem_primary">
                    <md-option></md-option>
                    <md-option value="Science">Science</md-option>
                    <md-option value="Technology">Technology</md-option>
                    <md-option value="Engineering">Engineering</md-option>
                    <md-option value="Math">Math</md-option>
                  </md-select>
                </md-input-container>
              </div>

              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="100">
                  <textarea ng-model="profile.userData.blurb" rows="1" placeholder="Write a short sentence about yourself!"></textarea>
                </md-input-container>
              </div>

            </md-card-content>
          </md-card>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--––––––––––––––––––––––––––––––– Bio Card ––––––––––––––––––––––––––––––––-->
          <md-card ng-if="!showEdits && profile.mentor.info.bio">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Bio</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="100" rows="5">
                  <p>{{profile.mentor.info.bio}}</p>
                </md-input-container>
              </div>
            </md-card-content>
          </md-card>

          <md-card ng-if="showEdits">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Bio</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="100">
                  <textarea ng-model="profile.userData.bio" rows="3" placeholder="Edit your bio here"></textarea>
                </md-input-container>
              </div>
            </md-card-content>
          </md-card>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--–––––––––––––––––––––––––––– Education Card –––––––––––––––––––––––––––––-->
          <md-card ng-if="!showEdits && (profile.userData.school || profile.userData.degree || profile.userData.major)">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Education</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="">
                  <p ng-if="profile.mentor.info.school">
                    <strong>School:</strong> {{profile.mentor.info.school}}
                  </p>
                  <p ng-if="profile.mentor.info.degree">
                    <strong>Degree:</strong> {{profile.mentor.info.degree}}
                  </p>
                  <p ng-if="profile.mentor.info.major">
                    <strong>Major:</strong> {{profile.mentor.info.major}}
                  </p>
                </md-input-container>
              </div>
            </md-card-content>

          </md-card>

          <md-card ng-if="showEdits">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Education</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content ng-if="showEdits">
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="100">
                  <label>School</label>
                  <input ng-model="profile.userData.school">
                </md-input-container>
              </div>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Degree</label>
                  <input ng-model="profile.userData.degree" placeholder="Masters, Bachelors, etc.">
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Major</label>
                  <input ng-model="profile.userData.major" placeholder="Biology, Engineering, etc.">
                </md-input-container>
              </div>
            </md-card-content>

          </md-card>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--–-–––––––––––––––––––––––––––– Career Card –-––––––––––––––––––––––––––––-->
          <md-card ng-if="!showEdits && (profile.mentor.info.company || profile.mentor.info.job_title)">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Career</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="" rows="5">
                  <p ng-if="profile.mentor.info.company">
                    <strong>Company:</strong> {{profile.mentor.info.company}}
                  </p>
                  <p ng-if="profile.mentor.info.job_title">
                    <strong>Job Title:</strong> {{profile.mentor.info.job_title}}
                  </p>
                </md-input-container>
              </div>
            </md-card-content>
          </md-card>

          <md-card ng-if="showEdits">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Career</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content ng-if="showEdits">
              <div layout-gt-sm="row">

                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Company</label>
                  <input ng-model="profile.userData.company">
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Job Title</label>
                  <input ng-model="profile.userData.job_title">
                </md-input-container>

              </div>
            </md-card-content>
          </md-card>
          <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

          <!--–––––––––––––––––––––––––– Personal Info Card –––––––––––––––––––-–––––––-->
          <md-card ng-if="!showEdits && (profile.mentor.info.gender || profile.mentor.info.orientation || profile.mentor.info.state || profile.mentor.info.languages)">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Personal Info</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="" rows="5">
                  <p ng-if="profile.mentor.info.gender">
                    <strong>Gender:</strong> {{profile.mentor.info.gender}}
                  </p>
                  <p ng-if="profile.mentor.info.orientation">
                    <strong>Orientation:</strong> {{profile.mentor.info.orientation}}
                  </p>
                  <p ng-if="profile.mentor.info.state">
                    <strong>State:</strong> {{profile.mentor.info.state}}
                  </p>
                  <p ng-if="profile.mentor.info.languages">
                    <strong>Languages:</strong> {{profile.mentor.info.languages}}
                  </p>
                </md-input-container>
              </div>
            </md-card-content>
          </md-card>

          <md-card ng-if="showEdits">

            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Personal Info</span>
              </md-card-title-text>
            </md-card-title>

            <md-card-content>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Gender</label>
                  <md-select name="type" ng-model="profile.userData.gender">
                    <md-option value=""></md-option>
                    <md-option value="male">Male</md-option>
                    <md-option value="female">Female</md-option>
                    <md-option valeu="other">Other</md-option>
                  </md-select>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Orientation</label>
                  <input ng-model="profile.userData.orientation">
                </md-input-container>
              </div>

              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>State</label>
                  <md-select ng-model="profile.userData.state">
                    <md-option value=""></md-option>
                    <md-option ng-repeat="state in profile.states" value="{{state.abbrev}}">
                      {{state.abbrev}}
                    </md-option>
                  </md-select>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="50">
                  <label>Languages</label>
                  <input ng-model="profile.userData.languages">
                </md-input-container>
              </div>
            </md-card-content>
          </md-card>
        </md-tab>
        <!--–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-->

        <!--–––––––––––––––––––––––––––––– FAQ Section ––––––––––––––––––––––––––––––-->

        <md-tab label="FAQs" md-on-select="profile.selectFaqTab()">
          <div layout-gt-xs="row" layout-padding>
            <md-switch ng-show="profile.userStatus.isLoggedIn && profile.userStatus.userType == 'mentor' && profile.userStatus.userId == profile.mentor.info.id || profile.userStatus.isAdmin == true" ng-model="showEdits">
              Edit Your FAQs
            </md-switch>

            <!-- save changes button for faq edits -->
            <md-button class="md-raised" ng-click="profile.editFaqs()" ng-show="showEdits && profile.faqTabSelected == true && profile.userStatus.isLoggedIn && profile.userStatus.userType == 'mentor' && profile.userStatus.userId == profile.mentor.info.id">
              Save Changes
            </md-button>
          </div>

          <div layout-gt-xs="row" layout-padding>
            <!-- Add a new faq button -->
            <md-button class="md-raised" ng-click="profile.changeAddFaqClicked(true)" ng-show="profile.addFaqClicked == false && profile.faqTabSelected == true && profile.userStatus.isLoggedIn && profile.userStatus.userType == 'mentor' && profile.userStatus.userId == profile.mentor.info.id">
              Add Faq
            </md-button>

            <!-- Save or cancel the new faq -->
            <md-button class="md-raised" ng-click="profile.saveFaq()" ng-show="profile.addFaqClicked && profile.faqTabSelected == true">
              Save FAQ
            </md-button>

            <md-button class="md-raised" ng-click="profile.changeAddFaqClicked(false)" ng-show="profile.addFaqClicked && profile.faqTabSelected == true">
              Cancel
            </md-button>
          </div>
          <md-content layout-padding>
            <form name="userForm">

              <md-card ng-if="profile.addFaqClicked">
                <md-card-content>
                  <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-xs>
                      <label>Question</label>
                      <input ng-model="profile.faqData.question">
                    </md-input-container>
                  </div>

                  <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-xs>
                      <label>Answer</label>
                      <input ng-model="profile.faqData.answer">
                    </md-input-container>
                  </div>
                </md-card-content>
              </md-card>

              <md-card ng-repeat="faq in profile.mentor.faqs">
                <md-card-content>
                  <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-xs>
                      <div ng-hide="showEdits">
                        <strong>{{faq.question}}</strong>
                      </div>
                      <input type="text" ng-show="showEdits" ng-model="faq.question" class="ng-pristine ng-untouched ng-valid md-input ng-not-empty" id="input_7" aria-label="FAQ Question Field" aria-hidden="false" aria-invalid="false" style="">
                    </md-input-container>
                  </div>

                  <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-xs>
                      <div ng-hide="showEdits">
                        {{faq.answer}}
                      </div>
                      <input type="text" ng-show="showEdits" ng-model="faq.answer" class="ng-pristine ng-untouched ng-valid md-input ng-not-empty" id="input_8" aria-label="FAQ Answer Field" aria-hidden="false" aria-invalid="false" style="">
                    </md-input-container>
                  </div>
                </md-card-content>
              </md-card>

            </form>
          </md-content>
        </md-tab>
      </md-tabs>
    </div>
  </md-content>
</div>
